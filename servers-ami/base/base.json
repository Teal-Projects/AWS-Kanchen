 {
        "variables": {
          "type": "",
          "region": "",
          "instance_type": "",
          "ssh_username": "",
          "vpc_id": "",
          "subnet_id": "",
          "security_group_id": "",
          "iam_instance_profile": "",
          "base_ami": "{{env `AMI_AMAZON_LINUX`}}",
          "ami_users": ""
        },
        "builders": [{
          "type": "amazon-ebs",
          "region": "{{user `region`}}",
          "source_ami": "{{user `base_ami`}}",
          "instance_type": "{{user `instance_type`}}",
          "ssh_username": "{{user `ssh_username`}}",
          "ssh_keypair_name": "{{user `ssh_keypair_name`}}",
          "ssh_private_key_file": "{{user `ssh_private_key_file`}}",
          "ami_name": "base.{{timestamp}}",
          "vpc_id": "{{user `vpc_id`}}",
          "subnet_id": "{{user `subnet_id`}}",
          "security_group_id": "{{user `security_group_id`}}",
          "iam_instance_profile": "{{user `iam_instance_profile`}}",
          "ami_users": "{{user `ami_users`}}",
          "run_tags": {
            "Name": "packer-builder:dev",
          },
          "tags": {
            "Name": "base",
            "os": "linux"
          }
        }],
        "provisioners": [
          {
            "type": "shell",
            "execute_command": "chmod +x {{.Path}}; {{.Vars}} sudo -E -S bash -x '{{.Path}}'",
            "script": "config.sh"
          },
          {
            "type": "shell",
            "execute_command": "chmod +x {{.Path}}; {{.Vars}} sudo -E -S bash -x {{.Path}}",
            "script": "other-config.sh"
          }
        ]
    }
